/**
 * jQuery Plugin for creating collapsible fieldset
 * @version 1.1.0
 * @requires jQuery 1.4 or later
 *
 * Copyright (c) 2010 Lucky <bogeyman2007@gmail.com>
 * Licensed under the GPL license:
 *   http://www.gnu.org/licenses/gpl.html
 *
 * "animation" and "speed" options are added by Mitch Kuppinger
 *
 * Fixed by Jason on Wed, 03/13/2013 - 08:35 PM
 * - Support for jQuery 1.9.1
 *
 * Fixed by SiZiOUS (@sizious) on Fri, 01/17/2014 - 10:18 AM
 * - Little fix for supporting jQuery 1.9.1, based on Jason's version
 *
 * Updated by SiZiOUS (@sizious) on Fri, 01/17/2014 - 10:55 AM
 * - Added jQuery chaining support
 * - Added an "update" event triggered on element after the operation finishes
 * - Works under IE8+, Chrome 32+, Firefox 26+, Opera 18+, Safari 5+
 */

(function(e,d,f){function c(h,g){if(g.animation){h.children("*:not('legend')").slideUp(g.speed,function(){h.trigger("update")})}else{h.children("*:not('legend')").hide()}h.removeClass("expanded").addClass("collapsed");h.children("*:not('legend')").attr("aria-expanded","false");if(!g.animation){h.trigger("update")}}function b(h,g){if(g.animation){h.children("*:not('legend')").slideDown(g.speed,function(){h.trigger("update")})}else{h.children("*:not('legend')").show()}h.removeClass("collapsed").addClass("expanded");h.children("*:not('legend')").attr("aria-expanded","true");if(!g.animation){h.trigger("update")}}function a(g,h){if(g.hasClass("collapsed")){b(g,h)}else{if(g.hasClass("expanded")){c(g,h)}}}e.fn.coolfieldset=function(g){var h={collapsed:false,animation:true,speed:"medium"};e.extend(h,g);return this.each(function(){var i=e(this);var j=i.children("legend");var k=i.children("*:not('legend')");k.wrapAll('<div class="wrapper"></div>');if(h.collapsed){c(i,{animation:false})}else{i.addClass("expanded")}j.bind("click",function(){a(i,h)});return i})}})(jQuery,window);
