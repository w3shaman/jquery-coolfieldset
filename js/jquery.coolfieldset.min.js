(function(e,d,f){function c(h,g){if(g.animation){h.children("*:not('legend')").slideUp(g.speed,function(){h.trigger("update")})}else{h.children("*:not('legend')").hide()}h.removeClass("expanded").addClass("collapsed");h.children("*:not('legend')").attr("aria-expanded","false");if(!g.animation){h.trigger("update")}}function b(h,g){if(g.animation){h.children("*:not('legend')").slideDown(g.speed,function(){h.trigger("update")})}else{h.children("*:not('legend')").show()}h.removeClass("collapsed").addClass("expanded");h.children("*:not('legend')").attr("aria-expanded","true");if(!g.animation){h.trigger("update")}}function a(g,h){if(g.hasClass("collapsed")){b(g,h)}else{if(g.hasClass("expanded")){c(g,h)}}}e.fn.coolfieldset=function(g){var h={collapsed:false,animation:true,speed:"medium"};e.extend(h,g);return this.each(function(){var i=e(this);var j=i.children("legend");var k=i.children("*:not('legend')");k.wrapAll('<div class="wrapper"></div>');if(h.collapsed){c(i,{animation:false})}else{i.addClass("expanded")}j.bind("click",function(){a(i,h)});return i})}})(jQuery,window);